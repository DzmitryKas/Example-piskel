!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var r;e.exports=function e(t,n,o){function s(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof r&&r;if(!c&&l)return r(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return s(n||e)},d,d.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof r&&r,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,a,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,c=0;c<r;c++)l[c].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r,o,s,i,a;a=navigator.userAgent.toLowerCase(),i=navigator.platform.toLowerCase(),r=a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],s="ie"===r[1]&&document.documentMode,(o={name:"version"===r[1]?r[3]:r[1],version:s||parseFloat("opera"===r[1]&&r[4]?r[4]:r[2]),platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||i.match(/mac|win|linux/)||["other"])[0]}})[o.name]=!0,o[o.name+parseInt(o.version,10)]=!0,o.platform[o.platform.name]=!0,t.exports=o},{}],3:[function(e,t,n){var r,o,s,i={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},c=[].slice;r=e("events").EventEmitter,s=e("./browser.coffee"),o=function(e){var t,n;function r(e){var n,r,o;for(r in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)o=t[r],null==(n=this.options)[r]&&(n[r]=o)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},r.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},r.prototype.setOptions=function(e){var t,n,r;for(t in n=[],e)i.call(e,t)&&(r=e[t],n.push(this.setOption(t,r)));return n},r.prototype.addFrame=function(e,t){var r,o;for(o in null==t&&(t={}),(r={}).transparent=this.options.transparent,n)r[o]=t[o]||n[o];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)r.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?r.data=this.getContextData(e):r.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?r.data=this.getImageData(e):r.image=e}return this.frames.push(r)},r.prototype.render=function(){var e,t,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,n;for(n=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)n.push(null);return n}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,n=t;0<=n?e<n:e>n;0<=n?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},r.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},r.prototype.spawnWorkers=function(){var e,t,n,r;return e=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--)n.push(r);return n}.apply(this).forEach((r=this,function(e){var t;return r.log("spawning worker "+e),(t=new Worker(r.options.workerScript)).onmessage=function(e){return r.activeWorkers.splice(r.activeWorkers.indexOf(t),1),r.freeWorkers.push(t),r.frameFinished(e.data)},r.freeWorkers.push(t)})),e},r.prototype.frameFinished=function(e){var t,n;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,n=this.freeWorkers.length;1<=n?t<n:t>n;1<=n?++t:--t)this.renderNextFrame();return a.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},r.prototype.finishRendering=function(){var e,t,n,r,o,s,i,a,c,l,u,d,h,m,f,v;for(a=0,m=this.imageParts,o=0,c=m.length;o<c;o++)t=m[o],a+=(t.data.length-1)*t.pageSize+t.cursor;for(a+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(a/1e3)+"kb"),e=new Uint8Array(a),d=0,f=this.imageParts,s=0,l=f.length;s<l;s++)for(t=f[s],v=t.data,n=i=0,u=v.length;i<u;n=++i)h=v[n],e.set(h,d),n===t.data.length-1?d+=t.cursor:d+=t.pageSize;return r=new Blob([e],{type:"image/gif"}),this.emit("finished",r,e)},r.prototype.renderNextFrame=function(){var e,t,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],n=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(t)},r.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},r.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},r.prototype.getTask=function(e){var t,n;if(t=this.frames.indexOf(e),n={index:t,last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===s.name},null!=e.data)n.data=e.data;else if(null!=e.context)n.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");n.data=this.getImageData(e.image)}return n},r.prototype.log=function(){var e;if(e=1<=arguments.length?c.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},r}(r),t.exports=o},{"./browser.coffee":2,events:1}]},{},[3])(3)},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(3),n(4),n(5);class r{constructor(e){this.state=e}cloneCanvas(e){const t=document.querySelectorAll(".canvas-mini"),n=t[e].getContext("2d"),r=document.querySelectorAll("#canvas-basic");t[e].width=r[e].width,t[e].height=r[e].height,n.drawImage(r[e],0,0)}copyCanvas(e){const t=document.querySelectorAll(".canvas-mini"),n=document.querySelectorAll("#canvas-basic"),r=t[e+1].getContext("2d"),o=n[e+1].getContext("2d");t[e+1].width=t[e].width,t[e+1].height=n[e].height,n[e+1].width=n[e].width,n[e+1].height=n[e].height,r.drawImage(t[e],0,0),o.drawImage(n[e],0,0)}static cloneCanvas(e){const t=document.querySelectorAll(".canvas-mini"),n=t[e].getContext("2d"),r=document.querySelectorAll("#canvas-basic");t[e].width=r[e].width,t[e].height=r[e].height,n.drawImage(r[e],0,0)}drawPen(e,t){const n=document.querySelectorAll("#canvas-basic"),o=n[t].getContext("2d");n[t].onmousedown=function(s){let i=document.querySelector(".first-current-color").value;if(2===s.button){i=document.querySelector(".second-current-color").value}o.beginPath();const a=s.offsetX,c=s.offsetY;o.strokeStyle=i,o.lineCap="round",o.lineWidth=e,o.moveTo(a,c),n[t].onmousemove=function(e){const n=e.offsetX,s=e.offsetY;o.lineTo(n,s),o.stroke(),r.cloneCanvas(t)},n[t].onmouseup=function(){n[t].onmousemove=null}}}drawLine(e,t){const n=document.querySelectorAll("#canvas-basic"),o=n[t].getContext("2d");document.addEventListener("contextmenu",e=>e.preventDefault()),n[t].onmousedown=function(s){let i=document.querySelector(".first-current-color").value;if(2===s.button){i=document.querySelector(".second-current-color").value}const a=document.getElementsByClassName("current-pencil"),c=document.getElementsByClassName("pencil-width");console.log("current",a),console.log("pencil.children",c.children),o.beginPath();const l=s.offsetX,u=s.offsetY;o.strokeStyle=i,o.lineCap="round",o.lineWidth=e;const d=o.getImageData(0,0,n[t].width,n[t].height);n[t].onmousemove=function(e){o.putImageData(d,0,0),o.beginPath();const n=e.offsetX,s=e.offsetY;o.moveTo(l,u),o.lineTo(n,s),o.stroke(),r.cloneCanvas(t)},n[t].onmouseup=function(){n[t].onmousemove=null}}}drawSquare(e,t){const n=document.querySelectorAll("#canvas-basic"),o=n[t].getContext("2d");n[t].onmousedown=function(s){let i=document.querySelector(".first-current-color").value;if(2===s.button){i=document.querySelector(".second-current-color").value}o.beginPath();const a=s.offsetX,c=s.offsetY;o.strokeStyle=i,o.lineCap="round",o.lineWidth=e,o.moveTo(a,c);const l=o.getImageData(0,0,n[t].width,n[t].height);n[t].onmousemove=function(e){o.putImageData(l,0,0);const n=e.offsetX,s=e.offsetY;o.strokeRect(a,c,n-a,s-c),r.cloneCanvas(t)},n[t].onmouseup=function(){n[t].onmousemove=null}}}drawEllipse(e,t){const n=document.querySelectorAll("#canvas-basic"),o=n[t].getContext("2d");n[t].onmousedown=function(s){let i=document.querySelector(".first-current-color").value;if(2===s.button){i=document.querySelector(".second-current-color").value}o.beginPath();const a=s.offsetX,c=s.offsetY;o.strokeStyle=i,o.lineCap="round",o.lineWidth=e,o.moveTo(a,c);const l=o.getImageData(0,0,n[t].width,n[t].height);n[t].onmousemove=function(e){o.putImageData(l,0,0);const n=e.offsetX,s=e.offsetY;!function(e,t,n,r,s){const i=r/2*.5522848,a=s/2*.5522848,c=t+r,l=n+s,u=t+r/2,d=n+s/2;e.beginPath(),e.moveTo(t,d),e.bezierCurveTo(t,d-a,u-i,n,u,n),e.bezierCurveTo(u+i,n,c,d-a,c,d),e.bezierCurveTo(c,d+a,u+i,l,u,l),e.bezierCurveTo(u-i,l,t,d+a,t,d),o.stroke()}(o,a,c,n-a,s-c),r.cloneCanvas(t)},n[t].onmouseup=function(){n[t].onmousemove=null}}}drawVerticalMirror(e,t){const n=document.querySelectorAll("#canvas-basic"),o=n[t].getContext("2d");n[t].onmousedown=function(s){let i=document.querySelector(".first-current-color").value;if(2===s.button){i=document.querySelector(".second-current-color").value}o.beginPath(),o.strokeStyle=i,o.lineCap="round",o.lineWidth=e,n[t].onmousemove=function(e){const s=e.offsetX,i=e.offsetY;o.moveTo(s,i),o.lineTo(s,i),o.stroke(),o.moveTo(n[t].width-s,i),o.lineTo(n[t].width-s,i),o.stroke(),r.cloneCanvas(t)},n[t].onmouseup=function(){n[t].onmousemove=null}}}moving(e){const t=document.querySelectorAll("#canvas-basic"),n=t[e].getContext("2d");t[e].onmousedown=function(o){const s=o.offsetX,i=o.offsetY,a=n.getImageData(0,0,t[e].width,t[e].height);t[e].onmousemove=function(t){const o=t.offsetX,c=t.offsetY;n.putImageData(a,o-s,c-i),r.cloneCanvas(e)},t[e].onmouseup=function(){t[e].onmousemove=null}}}getFrames(){const e=[],t=[];return document.querySelectorAll("#canvas-basic").forEach(t=>{const n=t.toDataURL();e.push(n)}),e.forEach(e=>{const n=new Image;n.src=e,t.push(n)}),t}animation(e,t){let n=0;const r=document.querySelector(".canvas-animation"),o=r.getContext("2d"),s=document.querySelector(".canvas-mini");return r.width=s.width,r.height=s.height,setInterval(()=>{o.clearRect(0,0,r.width,r.height),n<e.length?(o.drawImage(e[n],0,0),n+=1):n=0},1e3/t)}clearAnimation(e){clearInterval(e)}numberFrame(){const e=document.querySelectorAll(".counter");e.forEach((t,n)=>{e[n].innerText=n+1})}paintBucket(e,t){const n=document.querySelectorAll("#canvas-basic"),o=n[e].getContext("2d");function s(t,r){return 4*(r*n[e].width+t)}const i=function(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(t);function a(e,t,n){return e[t]===n.r&&e[t+1]===n.g&&e[t+2]===n.b&&e[t+3]===n.a}function c(e,t,n){e[t]=n.r||0,e[t+1]=n.g||0,e[t+2]=n.b||0,e[t+3]=n.hasOwnProperty("a")?n.a:255}n[e].onclick=t=>{!function(t,i,l){const u=o.getImageData(0,0,n[e].width,n[e].height),d=u.data,h=s(t,i),m={r:d[h],g:d[h+1],b:d[h+2],a:d[h+3]},f=[[t,i]];for(;f.length;){const t=f.pop(),r=t[0];let o=t[1],i=s(r,o);for(;o-- >=0&&a(d,i,m);)i-=4*n[e].width;i+=4*n[e].width,++o;let u=!1,h=!1;for(;o++<n[e].height-1&&a(d,i,m);)c(d,i,l),r>0&&(a(d,i-4,m)?u||(f.push([r-1,o]),u=!0):u&&(u=!1)),r<n[e].width-1&&(a(d,i+4,m)?h||(f.push([r+1,o]),h=!0):h&&(h=!1)),i+=4*n[e].width}o.putImageData(u,0,0),r.cloneCanvas(e)}(t.offsetX,t.offsetY,i)}}erasing(e){const t=document.querySelectorAll("#canvas-basic"),n=t[e].getContext("2d");t[e].onmousedown=function(){t[e].onmousemove=function(t){const o=t.offsetX,s=t.offsetY;n.clearRect(o-2,s-2,4,4),r.cloneCanvas(e)},t[e].onmouseup=function(){t[e].onmousemove=null}}}getPicture(e){const t=document.querySelectorAll("#canvas-basic")[e].toDataURL(),n=new Image;return n.src=t,n}turn(e,t,n,o,s,i){e.clearRect(0,0,t.width,t.height),e.save(),e.translate(n+t.width/2,o+t.height/2),e.rotate(s),e.translate(-(n+t.width/2),-(o+t.height/2)),e.drawImage(t,n,o),e.restore(),r.cloneCanvas(i)}reflection(e,t,n,o){e.clearRect(0,0,t.width,t.height),e.save(),e.scale(-1,1),e.drawImage(n,0,0,-1*t.width,t.height),e.restore(),r.cloneCanvas(o)}paintBackground(e,t,n,o){t.rect(0,0,n.width,n.height),t.fillStyle=e,t.fill(),r.cloneCanvas(o)}}class o{constructor(e){this.state=e}resizeCanvas(e,t,n){const r=document.querySelectorAll("#canvas-basic");r[e].style.transform=`scale(${t}, ${t})`,r[e].width=n,r[e].height=n,r[e].getContext("2d").drawImage(r[e],0,0,n,n)}drawWrapperCanvas(e){const t=document.querySelector(".menu-frame"),n=document.createElement("div");n.className="canvas-wrapper",t.insertBefore(n,t.children[e]);const r=document.createElement("canvas");r.className="canvas-mini",n.appendChild(r);const o=document.createElement("div");o.className="counter",n.appendChild(o);const s=document.createElement("div");s.className="icon-trash",n.appendChild(s);const i=document.createElement("div");i.className="icon-docs",n.appendChild(i);const a=document.createElement("div");a.className="icon-braille",n.appendChild(a);const c=document.querySelector(".wrapper-field-paint"),l=document.createElement("div");l.className="field-paint",c.insertBefore(l,c.children[e]);const u=document.querySelectorAll(".field-paint"),d=document.createElement("canvas");d.id="canvas-basic",u[e].appendChild(d)}drawInformationCanvac(e,t){document.querySelectorAll("#canvas-basic")[e].onmousemove=function(e){const t=e.offsetX,n=e.offsetY;document.querySelector(".coordinates").innerHTML=`[${t},${n}]`},document.querySelector(".size-canvas").innerHTML=`${t}x${t}`}}var s=n(0),i=n.n(s);(new class{start(){const e=new r,t=new o;let n,s,a=0,c=13,l=1,u=5,d=128,h="#000000",m="#000000";t.drawInformationCanvac(a,d),t.resizeCanvas(a,u,d);const f=document.getElementById("r1"),v=document.getElementById("i1");v.value=`${f.value} fps`,document.querySelector(".first-current-color").addEventListener("input",function(){h=this.value}),document.querySelector(".second-current-color").addEventListener("input",function(){m=this.value}),e.cloneCanvas(a),document.querySelector(".pen").addEventListener("click",()=>{e.drawPen(n,a)}),addEventListener("keydown",t=>{80===t.keyCode&&e.drawPen(n,a)}),document.querySelector(".eraser").addEventListener("click",()=>{e.erasing(a)}),addEventListener("keydown",t=>{69===t.keyCode&&e.erasing(a)}),document.querySelector(".checkbox").addEventListener("click",()=>{e.drawSquare(n,a)}),addEventListener("keydown",t=>{82===t.keyCode&&e.drawSquare(n,h,a)}),document.querySelector(".vertical-mirror-pen").addEventListener("click",()=>{e.drawVerticalMirror(n,a)}),addEventListener("keydown",t=>{86===t.keyCode&&e.drawVerticalMirror(n,a)}),document.querySelector(".blank-circle").addEventListener("click",()=>{e.drawEllipse(n,a)}),addEventListener("keydown",t=>{67===t.keyCode&&e.drawEllipse(n,a)}),document.querySelector(".hand").addEventListener("click",()=>{e.moving(a)}),addEventListener("keydown",t=>{77===t.keyCode&&e.moving(a)}),window.onload=()=>{e.drawPen(n,a)},document.querySelector(".line").addEventListener("click",()=>{e.drawLine(n,a)}),addEventListener("keydown",t=>{76===t.keyCode&&e.drawLine(n,a)}),document.querySelector(".turn").addEventListener("click",async()=>{const t=document.querySelectorAll("#canvas-basic")[a].getContext("2d"),n=await e.getPicture(a),r=90*Math.PI/180;e.turn(t,n,0,0,r,a)}),addEventListener("keydown",async t=>{if(84===t.keyCode){const t=document.querySelectorAll("#canvas-basic")[a].getContext("2d"),n=90,r=await e.getPicture(a),o=n*Math.PI/180;e.turn(t,r,0,0,o,a)}}),document.querySelector(".reflection").addEventListener("click",async()=>{const t=document.querySelectorAll("#canvas-basic"),n=t[a].getContext("2d"),r=await e.getPicture(a);e.reflection(n,t[a],r,a)}),addEventListener("keydown",async t=>{if(70===t.keyCode){const t=document.querySelectorAll("#canvas-basic"),n=t[a].getContext("2d"),r=await e.getPicture(a);e.reflection(n,t[a],r,a)}}),document.querySelector(".paint-background").addEventListener("click",()=>{const t=document.querySelectorAll("#canvas-basic"),n=t[a].getContext("2d");e.paintBackground(h,n,t[a],a,m)}),addEventListener("keydown",t=>{if(65===t.keyCode){const t=document.querySelectorAll("#canvas-basic"),n=t[a].getContext("2d");e.paintBackground(h,n,t[a],a,m)}});const p=document.getElementsByClassName("canvas-wrapper");document.querySelector(".add-frame").addEventListener("click",()=>{const n=document.querySelector(".menu-frame");a=n.children.length-1,t.drawWrapperCanvas(a),t.resizeCanvas(a,u,d),e.cloneCanvas(a);const r=e.getFrames();e.clearAnimation(s),s=e.animation(r,c),t.drawInformationCanvac(a,d);const o=document.getElementsByClassName("selected");o.length>0&&(o[0].className=o[0].className.replace(" selected","")),p[a].className+=" selected";const i=document.querySelectorAll(".field-paint");i[i.length-1].style.zIndex=l,l+=1}),document.getElementById("r1").addEventListener("input",()=>{v.value=`${f.value} fps`,c=f.value;const t=e.getFrames();e.clearAnimation(s),s=e.animation(t,c)});const g=document.querySelector(".tools"),y=g.getElementsByTagName("div");g.addEventListener("click",e=>{Array.from(y).forEach(t=>{if(e.target===t){const t=document.getElementsByClassName("active");t.length>0&&(t[0].className=t[0].className.replace(" active","")),e.target.className+=" active"}})});const w=document.querySelector(".menu-frame");w.addEventListener("click",e=>{document.querySelectorAll(".canvas-mini").forEach((t,n)=>{if(e.target===t){const e=document.getElementsByClassName("selected");e.length>0&&(e[0].className=e[0].className.replace(" selected","")),p[n].className+=" selected"}})});const C=document.querySelector(".pencil-width").getElementsByClassName("wrapper-width");for(let t=0;t<C.length;t+=1)C[t].addEventListener("click",function(){n=t+1,e.drawPen(n,a);const r=document.getElementsByClassName("current-pencil");r.length>0&&(r[0].className=r[0].className.replace(" current-pencil","")),this.className+=" current-pencil"});document.querySelector(".full-screen").addEventListener("click",()=>{!function(e){e.requestFullscreen?e.requestFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen&&e.mozRequestFullScreen()}(document.querySelector(".canvas-animation"))}),w.addEventListener("click",n=>{const r=document.getElementsByClassName("icon-trash"),o=document.getElementsByClassName("canvas-wrapper"),i=document.querySelectorAll(".field-paint"),l=document.querySelector(".wrapper-field-paint");Array.from(r).forEach((e,t)=>{n.target===e&&(w.removeChild(o[t]),Array.from(i).forEach((e,n)=>{if(t===n){l.removeChild(e);const n=document.getElementsByClassName("selected");n.length>0&&(n[0].className=n[0].className.replace(" selected","")),p[t].className+=" selected"}}))}),e.numberFrame();const u=e.getFrames();e.clearAnimation(s),s=e.animation(u,c),t.drawInformationCanvac(a,d)}),w.addEventListener("click",n=>{const r=document.getElementsByClassName("icon-docs");Array.from(r).forEach((r,o)=>{n.target===r&&(t.drawWrapperCanvas(o+1),t.resizeCanvas(o+1,u,d),e.copyCanvas(o),e.numberFrame(),t.drawInformationCanvac(a,d))})}),w.addEventListener("click",e=>{const t=document.querySelectorAll(".field-paint"),n=document.querySelectorAll(".canvas-mini");Array.from(n).forEach((n,r)=>{e.target===n&&(a=r,Array.from(t).forEach((e,t)=>{r===t&&(e.style.zIndex=l,l+=1)}))})}),document.querySelector(".menu-btn").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".menu").classList.toggle("menu_active")}),document.querySelector(".low-canvas").addEventListener("click",()=>{u=20,d=32,t.resizeCanvas(a,u,d),t.drawInformationCanvac(a,d)}),document.querySelector(".medium-canvas").addEventListener("click",()=>{u=10,d=64,t.resizeCanvas(a,u,d),t.drawInformationCanvac(a,d)}),document.querySelector(".big-canvas").addEventListener("click",()=>{u=5,d=128,t.resizeCanvas(a,u,d),t.drawInformationCanvac(a,d)}),document.querySelector(".btn-save").addEventListener("click",()=>{const e=document.querySelectorAll("#canvas-basic"),t=new i.a({background:"#ffffff",workers:2,quality:10,repeat:0,width:d,height:d,delay:1e3/c});e.forEach(e=>{t.addFrame(e,{delay:1e3})}),t.render(),t.on("finished",e=>{const t=document.createElement("a");t.download="download.gif",console.log("blob",e),t.href=URL.createObjectURL(e),t.click()})}),document.querySelector(".paint").addEventListener("click",()=>{e.paintBucket(a,h)}),document.querySelector(".pipette").addEventListener("click",()=>{const e=document.querySelectorAll("#canvas-basic");e[a].onmousedown=function(t){const n=t.offsetX,r=t.offsetY,o=e[a].getContext("2d").getImageData(n,r,1,1).data,s=`#${`000000${function(e,t,n){if(e>255||t>255||n>255)throw"Invalid color component";return(e<<16|t<<8|n).toString(16)}(o[0],o[1],o[2])}`.slice(-6)}`;document.querySelector(".first-current-color").value=s,h=s}})}}).start()}]);